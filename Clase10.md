(75) Clase 11 2024 08 27 - YouTube
https://www.youtube.com/watch?v=oIaoR08MfbA

Transcript:
(00:00) porque bueno no no va a estar Alex el día de hoy porque está ocupado en su trabajo pero hizo el favor de grabar la clase que va a ser pues programación orientada objetos todavía van a ha prototipos promesas y cosas así nada más es una hora y bueno si tienen dudas con su presentación o algo me dicen por chat para que yo les en el chat o sio en eh para la presentación y se les explico la va a pasar Sí vamos a subir todo esto igual eh logré grabar el Meet y ya se puede escuchar ahí hice algunas configuraciones con el
(00:52) obs Y al parecer ya se puede entonces voy a hacer la prueba hoy y voy a grabar mi clase y si la puedo subir para que ustedes la vean no sé si tengan alguna duda de la tarea del curso de documentación de lo que sea de otras cosas igual si tienen alguna duda de materias como eh seminario de frontend por ejemplo o Dey se escucha la moto Perdón este o no sé de javascript en general graficación por computadora también visualización me pueden decir cuántas tareas sern de l me anda
(01:58) gustando mucho las tareas este las tareas de la bueno tenemos pensado dejar una cada laboratorio puede que a veces no haya O puede que a veces sean muchísimo más fáciles de teoría tal vez no sé no sé cómo ustedes quieran las tareas o sea podemos adaptarnos igual si creen que es mucha carga nos pueden decir no igual la verdad soy muy barco con calificando las tareas pero Alex no s retadoras que me seguid bueno no s qu tan buen es quieren que subamos se pue pero en mi opinión cre que que están tranquilas las
(03:02) tareas o sea son tareas sencillas y salen muy muy rápido igual no sé de los que llegaron Si tienen alguna duda con la tarea o algo así otras dudas también con la tarea pasada podc no dudas todo bien muy bien bien ahorita empezamos les comentaba que Alex no está entonces les voy a pasar les voy a presentar su su clase de una hora y si tienen dudas sobre la clase me las ponen por chat y ya vemos si para la la grabación o les contesto igual por chat en 3 minutos
(04:19) empezamos cre que no lo publ en H ah ah
(06:59) bien pues ya vamos a empezar Cualquier cosa me dicen por chat me ponen por favor si tienen dudas o algo ya lo vemos qué onda chicos cómo están Buenas noches Oigan pues primero disculparme porque no podría acompañarlos hoy bueno para M es mañana y bueno bueno entonces les grabé la clase Por cierto es como la cuarta vez que la grabo porque la otra me quedó muy larga y muy pesada entonces vamos a repetir va si recuerdan la vez pasada nos quedamos en programación orientado a objetos dijimos que la programación orientada a objetos se basa en cinco
(07:51) principios fundamentales no es importante que se los aprendan y los van a utilizar para toda su carrera en particular hay uno que es herencia la herencia en javascript es un poco distinta a otros lenguajes orientados a objetos no como python como Java como cualquier otro lenguaje orientado a objetos ya que javascript no es un lenguaje orientado a objetos sino es un lenguaje orientado en prototipos eh Qué es un prototipo un prototipo es como una clase también es un molde sin embargo tiene algunas pequeñas diferencias particularmente se utilizan
(08:30) los prototipos para crear la herencia que conocemos en programación orientada objetos e como javascript es orientado a prototipos significa que todo objeto de hecho cualquier cosa en javascript proviene de un prototipo lo que sea Llámale variables Llámale funciones Llámale lo que sea proviene de algún prototipo no y a su vez todo prototipo proviene de un prototipo Y entonces esto nos genera una cena de prototipo luego cualquier cualquier objeto generado por un prototipo hereda todas sus todos sus métodos y todas sus propiedades y entonces Es
(09:16) importante saber cuál es la cadena de prototipos para no estar volviendo a a inventar la rueda cada que geramos generamos un nuevo objeto no queremos ponerle un nuevo método a un objeto tal vez ese objeto que estemos creando ya tenga ese método que nosotros queremos entonces es importante conocerlo para no repetir no para no desgastarnos y luego también cabe preguntarnos si todo prototipo tiene un prototipo Entonces cuál es el primer prototipo existe un prototipo de todos los los prototipos y bueno sí sí existe no eh
(09:55) Quién es el primer prototipo para empezar Cómo sabemos quién es el prototipo de algún objeto que nosotros estamos viendo bueno para eso vamos a utilizar la propiedad proto la anotación es el nombre del objeto que nosotr queremos ver punto proto bajo Esa es la anotación la sintaxis Quién es el primer prototipo bueno es el object Este es el primer prototipo se llama object va todos los objetos en javascript insisto Llámale funciones Llámale constantes Llámale variables Llámale clases Llámale lo que sea proviene
(10:39) directa o indirectamente de el objeto object Pero object también es un prototipo entonces pues la lógica nos dice que si es el prototipo de todos los prototipos Entonces no debería tener nada arriba No porque si no si hubiera algo arriba Entonces no sería el prototipo de todos los prototipos sin embargo veremos que object sí tiene la propiedad prototype y y Bueno podemos hacer un debate Ahí va eh antes de continuar vamos a ver este ejemplo Déjenme abro una nueva pestaña porque la otra tiene todas las chavos ando aquí editando su clase Y
(11:25) ando viendo que hay varias partes que no se grabaron bien entonces voy a repetir esta parte Eh bueno vamos a ver cuál es cómo cómo ver el prototipo de cierto objeto no de cualquier objeto por ejemplo Aquí voy a definir una función que le voy a poner pois aj est bien chidos mis chitos acerca de esta función ya tengo sueño Entonces vamos a ponerle Así que nos imprima no Oy esto funciona no no funciona ah a cons cons cons esto lo que va ser nuestra función Vale ahora esta función claramente no es un objeto si ustedes se acuerdan Cómo
(12:20) eran los objetos eran Bueno ya se acordarán de su clase de and losos cosas como y aquí claves valor no por ejemplo etctera esto claramente no es un objeto no sin embargo este esta función tiene métodos Entonces es como no es un objeto si tiene prototipos su prototipo es el que tiene métodos Entonces por ejemplo nosotros podemos preguntar por bajo gu bajo proto para ver quién es su prototipo y vemos que su prototipo es este de aquí es el prototipo de todas las funciones y todas las funciones se van así sí o sí tienen este prototipo
(13:14) Este es su esquema su esqueleto no es una función después unos paréntesis y después una tip c va eso eso es el prototipo de las funciones Cuál será el prototipo del prototipo de las funciones Bueno al preguntar por el prototipo del prototipo vemos que es este un un objeto raro sabemos que es un objeto porque vean tiene Define getter dos puntos F entonces propiedad valor clave valor clave valor vamos a abrirlo y vemos que nos dice mucho y poco a la vez no pero lo abrimos y ahora sí ya nos da más información ya vemos que su es
(14:00) object y no sé si ustedes se acuerdan de acá de las diapositivas había un objeto que se llamaba object no Entonces esto como su constructor es object quiere decir que esto es una instancia de object como mínimo no en realidad es el mismo object entonces podemos preguntar por el prototipo del prototipo Bueno vamos a preguntar por el prototipo de object no que es lo que yo les decía Entonces yo digo que no debería haber nada arriba de de object de hecho es raro que tenga la propiedad proton y efectivamente tiene nul Entonces no hay
(14:46) nada arriba de object o podíamos pensar que como object tiene la propiedad proto entonces pues nul es el prototipo de object entonces nul es el prototipo de todos los prototipos Entonces se puede generar un buen debate por ahí luego puede ocurrir otra cosa también está rara que es con la propiedad prototype Por qué me la manda así con paréntesis según yo no es con paréntesis Bueno vamos a ponerla así Según yo es así Ándele y miren ya me dice a mí que eh un defines no entonces eh Por qué por qué dos métodos que se
(15:27) supone que son el mismo mandan cosas distintas Ah bueno pu que prototype no es un método nativo de javascript el método nativo es proto prototype llega con la inclusión de programación orientada de objetos a javascript va no llega nativamente Por eso por eso arrojan cosas distintas pero en realidad es lo mismo y no tiene mucho sentido eh pensar en estas cosas bueno ahora sí regresamos a la edición nos vemos en un ratito en el resto de su clase Vámonos mientras con el siguiente tema que es muy bien Yo les dije que los
(16:06) prototipos son como moldes igual que las clases pero Cuál es la diferencia las clases sus moldes se llaman constructores Y son los constructores los que nos permiten instanciar objetos y lo mismo con los prototypes con Los prototipos Entonces cuál es la diferencia bueno para empezar los constructores son funciones especiales que sol solamente son accesibles desde dentro de su clase Y el el constructor no existe sin la clase Vale entonces si nosotros queremos construir un objeto con una clase forzosamente tenemos que llamar a su
(16:46) constructor y no podemos llamar solo al constructor tenemos que llamar a la clase de acuerdo y esto nos permite instanciar objetos y a estos objetos les pone las propiedades y los métodos defin en su clase eso es un constructor sin embargo un prototipo es más que eso como cualquier cosa tiene su prototipo entonces podemos heredar este eh comportamientos o bueno métodos y propiedades de cualquier objeto porque todo objeto tiene su prototipo va entonces podemos crear funciones que se comporten como constructores o que se comporten
(17:30) como este como funciones Y eso nos permite hacer muchísimas cosas no bueno seguramente hay un caso de uso a mí no se me ocurrió ninguno pero seguramente los hay puede puede llegar el caso no por ejemplo cuando en tiempo de ejecución queremos que un objeto cambie su comportamiento Ah Y eso es importante que podemos hacer cambios en instancias en tiempo de ejecución esto significa que no tenemos que parar el código modificar nuestra instancia o modificar nuestro constructor o modificar nuestro método o cambiarle las propiedades a
(18:07) nuestra clase para que se comporte distinto y o sea tendríamos que parar el código recompiled modificar recompiler se comporta distinto en en la herencia prototípica no podemos hacer todo mientras nuestro programa está corriendo es increíble Porque mientras el programa está corriendo imaginan que están en un videojuego no y quieren que su perro este pues ladre distinto después de que no sé le presionan la cola o lo que sea no el videojuego Y entonces este pues en vez de ladrar como normalmente ladra le podemos cambiar su
(18:49) su comportamiento en tiempo de ejecución Y hacer que mae no por ejemplo o lo que sea va Ah y todo eso sin sin replicar nada no solamente modificando el su método va entonces Esas son las diferencias un prototipo podemos tener una función que se comporte como función a veces y que se comporte como constructor a veces Además eso veremos que tiene ventajas en memoria e ya que bueno los prototipos están diseñados para que eh múltiples instancias de un mismo objeto compartan sus métodos y propiedades pero sin duplicar cada instancia sin eh darle un
(19:38) lugar en la memoria a cada una de las instancias esto obviamente reduce el uso de la memoria y eficienta la memoria no lo cual siempre es bueno en el navegador Cuántas veces el Chrome no se come toda la toda la memoria Bueno pues es super Útil no es super útil en ese sentido Pero por supuesto ustedes aquí ya pueden decidir si su página ocupa mucha memoria entonces utilizar prototipos en vez de clases o si no necesitan tanta memoria pues pueden utilizar clases no para para pues utilizar las ventajas porque veremos que
(20:17) crear prototipos instanciar prototipos es un poco más complicado sintácticamente que eh las clases va Y qué otra cosa tenemos esto reduce las instancias comparten única referencia Bueno es lo mismo Ahora sí herencia prototípica como les dije al principio la herencia particularmente en programación orientada de objetos eh No es como todas No no es como otras herencias en otros lenguajes ya que esta se construye con prototipos es importante saberlo ya que si a veces ustedes están intentando replicar un comportamiento de python o de jav con
(20:59) javascript y la herencia no les funciona Exactamente igual Entonces ya saben que es por su naturaleza prototípica y no su naturaleza de objeto por eso es importante saber que javascript es este basado en prototipos va la herencia prototípica nos permite usar métodos ya existentes sobre objetos que nosotros queremos heredar no Y además como dice aquí nos permite hacerlo fuera de la misma función va Cuál es la sintaxis Cómo creamos cómo hacemos herencia prototípica bueno primero para poder crear un prototipo podemos como les dije hacerlo
(21:48) a través de funciones entonces aquí yo defino la función animal que simplemente recibe como parámetro un nombre y luego eh la propiedad relativa a esta función podemos asignar una propiedad a una función ya que tiene prototipos No tiene un prototipo padre entonces por eso podemos hacer esto entonces la propiedad relativa a esta función que le decimos dis punto nombre es el nombre que le pasamos por parámetro Y luego podemos definir un método para este para esta función pero como esta función no es en Sí en un
(22:24) objeto tenemos que llamar a su prototipo su prototipo sí tiene tiene la capacidad de almacenar estas Este comportamientos no O métodos cómo lo hacemos Bueno a la clase animal vamos a llamar a su prototipo si se acuerdan es es esta que era una F y luego unos paréntesis Ese es su prototipo y eh le vamos a decir que el método hacer sonido es igual a una función anónima sabemos que es anónima porque no tiene nombre y simple ente vamos a hacer que imprime en consola el nombre que que le corresponde y hace un sonido
(23:08) va luego vamos a querer tener una clase de la cual querramos heredar entonces en nuestro caso le pusimos el nombre de perro un perro es un animal no y va a recibir por parámetro el nombre tiene que recibir todo lo que animal necesite va y para heredar para si para heredar vamos a llamar animal.
(23:36) co y le vamos a pasar esto eh o sea la propia función y el parámetro va para completar lo que nos pide animal okay Y luego como instanci Cómo cómo hacemos que esta función se comporte como un este como un constructor y no como una función porque aquí lo único que dice es que si yo llamo esta función y le paso el nombre simplemente Llamar animal no va a construir nada Solo lo va a llamar cómo lo instanci bueno pues vamos a hacer el objeto perro e creo que aquí me confundí bueno no me confundí más bien debí de haberle puesto algo más no otro nombre a
(24:20) este perro Ah bueno pues a perro Ah miren aquí lo hice con programación orientada objetos pero vamos a ver que esto no funciona no vamos a verlo aquí entonces aquí en vez de perro imagínense que dice firu Entonces vamos a hacer a firu prototype aj vamos a llamar a un prototipo sea quiero que este prototipo sea eh object con su método create y la clase animal prototype va Esto es lo que vamos a hacer y después a firu prototype vamos a llamar a su constructor sabemos que esto tiene un constructor porque object tiene
(25:07) un constructor va y le vamos a poner firu Ok luego a firu le podemos o bueno a la clase perro le podemos definir un método que sea el de ladrar como perro es una función no es un objeto no podemos definirle Entonces tenemos que llamar a su prototipo Okay y a su prototipo ya le podemos definir lo que nosotros querramos en este caso es una función anónima que simplemente imprime en pantalla el nombre de la instancia y ladra de acuerdo y vamos a comparar contra qué cómo cómo funciona si lo instanci como como programación
(25:57) orientada objetos va Vamos a llamar a sus métodos muy bien vamos a irnos a nuestra consola y vamos a muy bien chavos ahora vamos a la siguiente parte que tampoco se grabó vamos a limpiar nuestra consola y bueno en esta parte queremos nosotros crear a ver dejen desconecto rápido algo estando Ah es que justo mis audífonos empezaron a fallar Bueno e vamos ahora a crear eh Nos gustaría ver la herencia prototípica en otro ejemplo no H hace rato creaba la clase carro vamos a volver a a hacer esa no entonces lo que vamos a hacer en una
(26:53) función vamos a ver que esta función se puede comportar tanto como un constructor como una propia función Entonces vamos a llamar car así como parámetros va a recibir una marca y un modelo por ejemplo no Y entonces para que esto sea un constructor vamos a decirle dis marca es igual a marca al cual como lo hacíamos en programación Ay lo definí Ajá sí y punto modelo es igual a modelo muy bien y listo así queda nuestra función constructora va luego este le podemos definir un método no por ejemplo queremos que nuestro carro
(27:46) nuestros carros todos los carros van a arrancar Entonces vamos a definir este no no es carro prototype esto como carro no es un objeto no tiene forma de tener métodos es una función no puede tener métodos sin embargo su prototipo sí puede tener métodos no porque su prototipo pues es un prototipo y tiene tiene métodos no Ah entonces a su prototipo le vamos a definir el método arrancar y vamos a decir que arrancar es igual a una función anónima función no necesita nombre como parámetro no necesita parámetros y simplemente vamos a imprimir en consola
(28:32) consol log log arranc ya no ese va a ser nuestro método arrancar va ahora queremos tener alguna otra función que herede de carro por ejemplo queremos tener camiones Entonces vamos a definir function camiones o bueno camión y como parámetros bueno va a recibir una marca como carro va a recibir un modelo y va a recibir un número de llantas sí un número de llantas muy bien Y entonces para que esto herede de carro Entonces tenemos que llamar a carro carro punto palabra reservada con minúscula y le vamos a
(29:38) pasar la propia función Esto hace estamos mandando esto no esto de aquí y le vamos a mandar una marca lo que tenemos por parámetro vamos a mandar su modelo y es todo lo que car nos pide de acuerdo y adems esto sea un constructor y termine de de definir sus propiedades Entonces vamos a hacer dis punto muy bien y ahora sí esto está heredando de carro con esta parte y además está definiendo su nueva propiedad con dis va listo Okay ahora vamos a eh a establecer su herencia no para esto lo que tenemos que hacer es que
(30:33) camión cam prototype que el prototipo del camión sea Exactamente igual a el método object object es un objeto como ya habamos esto es el objeto es el prototipo de todos los prototipos y tiene el método create no queremos que cree eh el objeto carro carro con minúscula carro que cree su prototipo vale Esto es lo que va a hacer esto estamos diciendo que el prototipo de camión va a crear va a a copiar el método create del objeto object y a ese create le vamos a pasar por parámetro el prototipo de carro va eso es lo que acabamos de hacer
(31:44) luego prototype prototype constructor esto ya tiene un constructor porque se Lo acabamos de hacer acá arriba acabamos de asignar el objeto check no Entonces ahora tiene un constructor y quiero que cada que te llame que LL mande a llamar a su constructor quiero que me genere un camión camión y ya Ajá hasta aquí ya nosotros ya creamos nuestro nuestro prototipo están de acuerdo Creo que no le definimos un método a cambi vamos a definirle eh function No no no es camion prototype como camión no es un objeto no tiene la capacidad de
(32:39) almacenar métodos sin embargo su prototipo sí es un objeto Y sí puede almacenar este este métodos no entonces podemos pedirle al camión que este hace un camión descarga no Ándele Mire es justo el que ya hice en el ejercicio pasado y hacía camión sí se llama así verdad camión Sí ahí está y ahora camión ya tiene un método que se llama descarga y ahora vamos a eh instanciar Por ejemplo un camión y vamos a ver que también heredó el método del carro entonces cómo creamos un objeto hacemos lo hacemos constante y le hacemos
(33:40) camión por ejemplo yo le puse Mac hace rato Mac es igual es que Mac es el de Rayo McQueen entonces por eso estaba cagado pero ya no tengo ganas de hacer chistes es igual a New este cómo se llama nuestra clase verdad camión y le pasamos como propiedades eh una marca que yo le había puesto hace rato Rayo maiz ya se como rayo miz y su modelo es de 1998 como yo este y me pedía también un número de llantas que tenga llantitas opinan y ya eso es todo definimos nuestro objeto y ahora a le vamos a pedir que
(34:43) arr y ya ya arranca dice que Pero bueno no solo es un carro tambi es entonces a le podemos decir que descargue y ya descarga no Bueno me faltaron las los paréntesis por eso los imprimi así pero bueno se entiende no Ah muy bien Vamos a seguir con el resto de la clase ahorita les sigo grabando todo lo que no se grabó Muy bien Entonces ahora sigamos con su clase e como podemos notar en el código que acabamos de ver podemos generar las mismas acciones con la herencia prototípica que con la herencia de programación orientada objetos
(35:43) utilizando la sintaxis que ya vimos la clase pasada que es extend no e bueno Qué diferencias tienen como pudemos ver nosotros podemos este cambiar el comportamiento de de de nuestros objetos en tiempo de ejecución lo cual es una ventaja enorme también vimos que tiene ventajas en memoria los prototipos y eh etcétera no esto nos puede dar muchísima flexibilidad y nos permite eh tener comportamientos más menos estrictos que eh en programación orientada objetos Cuál es mejor pues ninguno es mejor nada más en algún caso de uso o en otro no
(36:35) será más un no será más útil uno que otro no hay que conocer ambos va Ah cómo es que eh podemos hacer el eh esta cosa de cambiar el comportamiento de un objeto en tiempo de ejecución bueno por ejemplo supongamos que al picarle la cola firu en algún videojuego este queremos que no haga un sonido queremos que haga algún otro sonido y entonces podemos hacer cosas como esta que en vez de que firu haga un sonido siempre ladre Y entonces en firu cuando hace un sonido ladra y cuando ladra también ladra entonces bueno sonó un
(37:21) poco redundante ahorita se los pongo en nuestro ejemplo de carritos para que para que quede un poquito más claro y y vamos a ver cómo es que podemos utilizar nuestras funciones constructoras de prototipos como funciones este normales va entonces les pongo pausa y les grabo esa parte ahorita nos vemos y después de esto Ajá yo creo que nos vamos a saltar esta parte porque ya vamos tarde de nuevo otra vez me pasé de tiempo ya regreso chavos muy bien chavos ahora vamos de regreso a nuestra terminal y vamos a modificar tantito nuestra función
(38:03) constructora de nuestro clase camión nosotros queremos que en algún momento esto se comporte como función y nos permita cambiar sus acciones no todo esto como les digo en tiempo de ejecución va entonces eh una forma de hacerlo hay muchas por ejemplo con algún parámetro aquí le podemos poner un parámetro buano por ejemplo en en caso de que este parámetro buano sea true o sea false eh nos de alguna acción o alguna otra va eh yo lo voy a hacer de otra manera para introducir este otro concepto que es verificar si un objeto
(38:43) es instancia o no de algún prototipo no en nuestro caso vamos a preguntar si este este este este esta clase esta función es instancia es instancia es inst instance of de carro no según según recuerdo que así se llamaba nuestra nuestra otra clase Sí miren se llama carro va Vamos a preguntar si es instancia y en el caso de que no lo sea o sea en el caso de que sea una función eh vamos a eh console.
(39:26) log punto log vamos a pedirle que que nos diga cámara amijo me viste cara de constructor qu me viste las patas lasas ya bien clasista que me viste las botas llenas de mezcla Ay Qué gracioso ya tengo sueño pero pero nobre las risas no faltaron y ese va a ser nuestra nueva función constructora no y en otro caso bueno en este caso además quiero que ya no haga nada más no porque puede entrar a este If y después se va a comportar como constructor y yo no quiero eso no quiero que simplemente o bueno miren vamos a dejarlo así y ya no Ahora vamos a
(40:33) repetir todo nuestro código a ver dejen intentar esto creo que esto no debería de funcionar Sí porque no está definido aún a ver Ah miren Sí sí descarga bueno aún sigue en memoria eh vamos a crear un carro uno mi carro por ejemplo otro carrito no O no mi camión no mi cam y lo vamos a mandar a llamar como una función le vamos a mandar todos sus parámetros que sea marca por ejemplo que su modelo sea de 2005 del 2005 y que eh tenga cuatro llantitas un camión pequeño no y y vamos a ver qué nos dice esto Ajá mi camión Ah sí es que no se llama así
(41:30) no mi camión es igual a camión y así se llama nuestra función y ya me dice este cámara mijo qu me viste cara de constructor có me viste las botas llenas de mezcla y ya no este como ven esto se comportó como función lo pude llamar como función lo cual Está increíble no Entonces como les digo este podemos aquí intercambiar este funciones y constructores etcétera no lo cual nos da muchísima Libertad en eh nuestro código y en nuestras ideas este por ejemplo les decía que podemos igualar los métodos en realidad eso ya
(42:15) lo vimos acá arriba si se acuerdan Ah aquí al al prototype bueno no no es esta línea dónde está esa línea al Ajá Ah bueno Pues si podría ser esta al prototype le asignamos el object create carro prototype entonces aquí ya igualamos métodos no asignamos métodos a métodos otra forma de asignación no este en nuestro ejemplo del firu al firu que ladra le pusimos el firu que habla o no me acuerdo qué chingados le pusimos va este voy a dejar este tema por aquí para pasarnos al otro tema importante y darle continuación más bien
(43:02) darle Introducción a a Andy va entonces dejamos este tema hasta aquí y nos pasamos al siguiente Ya regreso chavos antes de pasar al segundo video si tengan alguna otra duda Ah respondí los que están buen la que estaba en el chat todo bien ya se fueron Okay V entonces Ah pasamos a lo siguiente que es programación asíncrona igual no sé si el volumen está bien o si le baj o le sub
(44:16) ustedes Okay Va que nos permite realizar varias tareas al mismo tiempo bien chicos y ya por último para terminar esta cl Eh bueno para que sepan este tema es bastante complicado Entonces lo traté de hacer bastante sencillo y yo creo que la próxima clase le damos una repasada eh con un ejemplo un poquito más complicado va bueno el tema es programación asíncrona Qué es la programación asíncrona es un paradigma de programación que nos permite realizar varias tareas al mismo tiempo de manera que terminar una no nos impida o más
(45:02) bien que no terminemos una no nos impida eh iniciar otra no y así tantas como querramos que podamos realizar varias tareas al mismo tiempo va eh eso es la la programación asíncrona se dice que esto es de manera no bloqueante va o se hace una tarea no bloquea la siguiente bueno algo síncrono son eh Bueno una serie de tareas síncronas son tareas que son independientes entre sí O sea se que el resultado de una no afecta a la otra o que una no necesita de la otra y que este sucedan consecutivamente que termine una y luego
(45:51) la otra y luego la otra y así sucesivamente no eh eso es algo síncrono Qué es algo asíncrono bueno pues es una serie de tareas que se pueden eh Para empezar se pueden realizar al mismo tiempo de manera simultánea y que se manejan por separado va a qué me refiero que se manejan Bueno pues que su respuesta este eh se se Cómo decirlo sí la reacción a la respuesta de una eh No tiene tien nada que ver con el cómo reacciona el programa a la respuesta de la otra va A eso me refiero con que se manejan por separado Cuáles son las formas de eh
(46:38) manejar tareas asíncronas en javascript Bueno pues la primera se llama cbx en esta no nos vamos a detener eh Porque en realidad casi no se usa y se usa en casos muy específicos y generalmente es algo muy engorroso por lo que eh actualmente se considera una mala práctica y nos puede llevar a cosas muy eh malas De hecho hay un término que se llama callback Hell que es cuando tenemos demasiados callbacks bueno los callbacks son funciones que se pasan como parámetro o eh que se pasan como parámetro a otras funciones y se Ejecutan después de una
(47:23) operación asíncrona y y pues ya Y esta es la manera más antigua de manejar la sincronía en javascript Aquí les puse un ejemplo muy muy sencillito este código Se los voy a pasar este no se los puedo enseñar porque ni siquiera me deja cambiar de pestaña sin que termine la grabación pero todos estos códigos No se preocupen se los vo a poder Se los voy a pasar y los van a poder probar van a ver que s funciona Bueno hay una función que que hace algo simula una función asíncrona un proceso asíncrono Ajá Y esta simplemente hace algo y después de 2
(48:09) segundos lo marca como completado y nos regresa el mensaje de terminé o en este caso hecho no después tenemos una que se llama después de hacer algo y esta simplemente dice que se ejecuta después de hacer algo Ah ahorita veo depende cuánto me lleve la explicación si les hago todo este código en la consola y se los grabo y se los pongo en la clase pero bueno entonces Este voy a llamar a hacer algo y le voy a pasar como parámetro el después de hacer algo y entonces esta Va a empezar va a imprimir que está haciendo algo va a esperar dos segundos
(48:51) después de do segundos vo imprimir hecho y después vamos a ver en nuestra sola que se ejecuta después de hacer algo Eso es todo lo que va a pasar en este programita no eso simula una tarea asíncrona que ocurre después de 2 segundos no Esa es la primera no se las recomiendo Entonces no lo vamos a ver a menos que me de tiempo va el siguiente método son las promesas una promesa como su nombre lo dice es Eh bueno Al contrario de lo que se cree no es algo que siempre se va a cumplir eh es una respuesta es un objeto que
(49:35) guarda en Sí una respuesta a una eventual finalización eh tanto exitosa como fallida de una operación asíncrona entonces eh en comparación a los callbacks esto es una manera mucho más limpia de manejar la sincronía y es la que vamos a ver hoy y si nos da tiempo vemos otra más va entonces e una promesa Simplemente nos dice Cuál va a ser la eventual respuesta nos dice sí o sí vas a tener una respuesta no sé si va a ser buena no sé si va a ser mala Pero sí o sí va a ser una va a ser vas a tener una respuesta y va a ser de este
(50:16) tipo y la vas a poder manejar así entonces eso nos va a facilitar mucho el el programar y el adelantarnos a eventos futuros va Por ejemplo si alguna vez implementan una Api que esto también por cierto es introducción al siguiente tema que va a dar Andy que son las apis Okay entonces si ustedes alguna vez implementan una Api Eh pues a veces esas apis son viejas no y a veces no tienen documentación no etcétera y no implementan los mejores este estándares de javascript porque son viejas no Entonces para asegurarnos de
(50:55) que nuestro proceso no se rompa por culpa de esas apis usamos las promesas no por ejemplo a mí me pasó eh con la Api de inji del deue era una Api vieja y pues eh al no al no saber cómo iba a ser la respuesta de la Api actualmente ya la mejoraron Por cierto pero al en esos tiempos como no sabías Cuál era la respuesta de Api Bueno pues hacías una promesa y así si te mandaba error o lo que fuera pues al menos no te rompía tu proceso y tu algoritmo podía continuar por ejemplo no solamente avisabas que algo había salido mal
(51:37) va eso es una promesa cómo ay espérense esto iba después bueno los estados de una promesa son una promesa siempre va a tener un estado siempre desde que se inicia hasta que se La promesa te va a decir En qué estado se encuentra el primero puede ser pendiente y significa que no ha terminado que no ha devuelto una respuesta no eh el pendiente puede ser infinito a menos de que tú establezcas un parámetro que diga cuándo forzosamente tiene que detenerse va para que lo tomen en cuenta la siguiente es eh cumplida se dice que se cumplió la
(52:27) promesa cuando la operación eh asíncrona es exitosa y se puede definir como tú quieras Por ejemplo si quieres que devuelva un bulano entonces eh si ese bulano es true entonces la operación asíncrona se completó de manera exitosa va el último es rejected o rechazada eh significa que se completó fallido en el caso del bulano que regresó un false no va entonces Esos son los tres posibles estados y toda promesa está en uno de estos tres estados de acuerdo Ah okay muy bien Ahora sí acá vamos a ver cómo se ve una promesa eh También
(53:15) ahorita yo creo que Terminando de hacer mi explicación eh les grabo este código va bueno supongamos que tenemos que hacer una operación muy lenta Como por ejemplo Descargar unos datos del Inegi no en nuestro caso nuestra operación va a durar 2 segundos después de esos 2 segundos va a resolver va a devolver resolve va esta promesa no tiene el caso de rejected Ok entonces en caso de después de los 2 segundos va a decir resultado después de 2 segundos e esto como pueden ver está fuera de la función Entonces al ejecutar este código
(54:02) te va a imprimir en consola el inicio después va a ejecutar tu operación lenta y después de 2 segundos va a imprimir el resultado que va a ser resultado después de de 2 segundos y en caso de error en caso de que nos rechacen nuestra nuestra promesa entonces me va a imprimir error y nos va a decir la descripción del error y finalmente imprime fin de acuerdo eso fue una promesa eh Por ejemplo supongamos que nuestros datos de ineji eh hicimos mal la petición no mandamos correctamente la petición No pedimos por favor supongamos
(54:44) no Y entonces en ineji se enoja y nos Cancela nuestra promesa y nos devuelve un error zote Bueno ese error zote lo vamos a cachar y lo vamos a imprimir en consola de acuerdo Ah okay Ahora el cómo consumir una promesa Esto es lo que les decía al final podemos podemos pensar en todos los casos posibles por suerte solo hay tres Bueno solo solo hay dos o o la promesa se cumple o la promesa se incumple si se cumple cómo vamos a reaccionar si se incumple cómo vamos a reaccionar entonces supongamos Ah bueno para para estos tres para estos dos
(55:30) casos vamos a utilizar eh eh estas palabras reservadas estos métodos va e operación asíncrona como como como argumento punto den y el contenido la lógica de lo que va a pasar en caso de que la promesa se haya cumplido exitosamente eso va dentro del paréntesis de acuerdo e bueno la siguiente es el método Catch como en todos los lenguajes capta los errores No y dentro de El paréntesis de Catch ponemos la lógica que vamos a seguir en caso de que la promesa se incumpla de acuerdo y por último punto Finally aquí Me faltó eh su su este
(56:25) paréntesis Ajá Ah que esto este código dentro de Finally se va a ejecutar en cualquier caso no me importa si la promesa se resolvió exitosamente o fallido en cualquier caso te voy a a a ejecutar el código dentro de Finally de acuerdo eh Y bueno así consumimos una promesa y antes de pasar al ejercicio vamos a ver cómo crear una promesa va son son dos temas distintos aunque parezcan el mismo de acuerdo insisto esto es una operación asíncrona sí punto este código den entre paréntesis su lógica punto Catch y dentro su lógica aquí Bueno Son son
(57:18) lambda functions Ah no aquí se llaman Ay no AC cómo se llaman en javascript en python son lambda functions y aquí son este One LINE functions o Arrow functions va que son la lógica Dentro de este código y cómo creamos una promesa Bueno una promesa como dijimos es un objeto y como es un objeto tiene su propio constructor su constructor se llama promise Y entonces para llamarlo utilizamos la anotación de programación orientada objetos que es New llamamos a su clase que es promise esto obviamente va a llamar a su constructor y le
(58:01) pasamos eh nuestra lógica de nuestra promesa En este caso tiene dos opciones o se resuelve o se o sea se resuelve exitosamente o se resuelve fallido y Bueno aquí es un código muy sencillito si éxito lo que les decía puede ser un bullano si el resultado de nuestro nuestra operación asíncrona es true Entonces vamos a eh resolver la promesa con este este método resolve y pasándole dentro lo que va a devolver en este caso está devolviendo un String el contenido del String dice operación completada exitosamente okay Y en otro caso en caso
(58:50) de que de que nuestro proceso nos demos cuenta que que nuestra promesa no se cumplió a Bueno pues usamos el método reject para devolver el error de acuerdo incluso aquí podemos tomar un tricat podemos hacerlo de tantas formas como nosotros querramos pero comoo creamos la promesa bueno usando eh la notación de programación orientada objetos muy bien el último tema que probablemente no alcancemos a ver hoy pero si me da tiempo de terminar de grabar lo vemos es ainia wait que es la forma más eficaz más sencilla y mejor aceptada para
(59:35) manejar asincronía de acuerdo este será el tema de la próxima clase y lo utilizaremos para hacer un ejemplo más práctico de acuerdo Voy a par hasta aquí esta parte de la grabación y les grabo nuestro ejemplo ahorita nos vemos muy bien chicos ahora vamos con nuestro ejemplo práctico de asincronía eh queremos tratar de simular una operación asíncrona que tome un poquito de tiempo y que nos permita manejar su respuesta por medio de una promesa por lo que la respuesta de nuestra función asíncrona debe ser una promesa no entonces eh siguiendo acá lo
(1:00:24) que tenemos en las notas decía que podía podemos hacer una función que le llamaremos este operación operación síncrona por ejemplo No no va recibir ningún parámetro pensaba a podemos ponerle aquí un a ver voy a investigar tantito Cómo er Random no me acuerdo cómo era er Random aj Random vamos a ver dice que podemos utilizar pun random que nos va a dar un número entre 0 y 1
(1:01:31) entonces podemos utilizar más pun Random por ejemplo Vamos a ponerle éxito éxito es igual a lo que acabamos de copiar Y si esto es menor o igual que 0.5 o sea el 50% Entonces si esto ocurre esta éxito es si es menor Entonces es verdadero y si es falso Entonces este pues es negativo no lo declaré Chale no sé qué dije pero creo que sí me entendieron Entonces vamos a evaluar esta esta expresión y If éxito O sea si es positivo Entonces nos falta crear una promesa éxito vamos a resolver nuestra promesa implementamos la
(1:02:38) PR y que nos diga operación exitosa exitosa y en otro caso que nos di res acuérdense que es la palabra reservada para cuando nuestra promesa se cumple exitosamente y reject es nuestra palabra reservada para cuando nuestra operación asíncrona se completa este fallido no ocurrió un error y carita triste ahí muy bien Ahora esto tiene que estar dentro de una promesa ya que si no no podríamos hacer esto no dejen lo copio y vamos a crear nuestra promesa Entonces nosotros queremos regresar vamos a hacerlo
(1:03:44) así este Cómo era New prom prom y dentro de los paréntesis ahora s podemos poner nuestra promesa tenemos que pedirles que se resuelva Ay como er este código no está recomendando es así Me resuelve o me rechaza no y vamos a poner una function para desarrollar la lógica de nuestra promesa y ahora sí dentro de la lógica de nuestra promesa vamos a poner nuestro código Ahí está listo vamos a pedirle dentro de la promesa para saber cuando ya está
(1:04:48) iniciando que nos console el log de iniciamos a nuestra operación asíncrona Espere un momento por favor un momento muy bien Ahí está aj en caso de éxito Dónde está éxito Aquí está éxito y en caso de error devolvemos eso Ajá qué más nos falta [Música] Pues yo creo que ya no vamos a
(1:06:01) ponerle vamos a poner vamos a quitar otra vez este código y vamos a ponerle un y dentro handler el acuerdo se Time a ver dejen dejen Leo aquí lo tenía no lo tengo Time out [Música] japt Ah miren ya la encontré aquí está voy a traer este código y vamos a ponerlo aquí Time out Ajá Y en vez de esto de conso log
(1:07:08) nosotros no creos esto ponemos nuestra lógica y ya no seguramente está un poquito a ver si no nos manda error esto y en vez de 1000 segundos vamos a pedirle 3000 3000 milisegundos para que sean 3 segundos no va esa es nuestra función Ahora qué pasa si la llamamos si la llamamos se llama operación asíncrona es la operación imposible este no recibe ningún parámetro y luego de esto tenemos que poner el punto den para manejar el caso exitoso entre paréntesis vamos a vamos poner aquí abajo miren a ch espérense tan ve que se ejecutó por
(1:08:06) accidente Disculpen ustedes entonces en el den le decimos que ocupe resultado y con dependiendo del resultado con una Arrow function vamos a consol log log y te paso resultado resultado imprímeme el resultado luego en otro caso den Vamos a ponerle un Catch Catch Ajá Y ahora así en caso de error quiero que cons Y por último finalmente literal
(1:09:22) Finally en cualquier caso quiero que cons log qué tiene que ocurrir vamos a decirle que ya terminé quién sabe qué pasó pero ya quedó Entonces estamos Llamando a ver si no se borró Mi código eh Y si se borró hijo de su madre hijo de su madre se borró todo vamos a hacerlo de nuevo AC va resultado resultado y resultado
(1:10:34) termin y listo entonces iniciamos nuestra operación asíncrona vamos a esperar 3 segundos y resultado not hijo de su y en cualquier caso Bueno aquí nos mandó un error nos dijo que resultado not Y de todos modos terminó la operación asíncrona por dice que resultado Ah ya vi por Me faltó aquí miren iniciamos operaci asíncrona y después de 3 segundos nos dice operación exitosa que es el flujo exitoso no sé si lo recuerdan en caso de éxito nos decía operación exitosa y en caso de fracaso nos decía ocurri un error operación
(1:11:19) triste vamos a repetir el código a ver si en alguna de estas nos manda un error hemos terminado operación exitosa Ahí está al fin Nos mandó un error y De cualquier modo esto terminó no y bueno chavos esto Según yo es la parte fácil Cómo creamos una promesa simplemente utilizando la anotación de de de programación orientada objetos Es que de verdad ya tengo mucho sueño Ya me quiero dormir y declarando sus dos casos puede ser resolve o reject Ok y para ambos casos o sea esto de Time estaba de más pero se lo puse para que
(1:12:14) se pareciera más algo asíncrono este y todo lo demás pues ocurre Igual también lo de éxito se lo puse pues para hacer algún un poquito más Dinámico no y ya Eso es todo lo que hay que hacer para crear una promesa para manejarla solamente utilizamos estas tres palabras den Catch y Finally y con eso con eso ya sabemos manejar este todo lo de asincronía Con promesas la próxima clase continuamos con eh Asia wit y ya Muchas gracias chicos descansen Buenas noches los quiero By bueno no s si tengan alguna duda de esto
(1:13:09) ig vamos a pasarles los códigos todo para que ustedes los vean más dudas si todo está bien voy a empezar a grabar mi clase y a presentarles bien Bueno pues vamos a empezar con conceptos básicos de http y solicitudes http y bueno Qué es http en inglés hypertext Transfer protocol en sí es un protocolo de
(1:14:13) comunicación que permite la transferencia de información entre clientes y servidores en la web entonces lo que hace es enviar y recibir datos Noé es un cliente bueno típicamente eh un navegador web no como cualquiera y un servidor es una máquina que almacena recursos como las mismas páginas web imágenes videos etcétera etcétera etctera Cómo funciona esto Bueno cuando nosotros escribimos una URL Como por ejemplo esta eh Y presionamos enter lo que hace el navegador o sea nuestro cliente es enviar una solicitud http al servidor
(1:15:00) donde se aloja el recurso solicitado y bueno lo que hace el servidor es procesar la solicitud y Envía una respuesta http que incluye el recurso solicitado o un mensaje de error no por si el recurso no está disponible ahorita vamos a ver pues los tipos de solicitudes http y bueno Define varios métodos que indican el propósito de una solicitud los más comunes por ejemplo Ah es el get que lo que hace es solicitar un recurso específico del servidor sin modificarlo el método se utiliza cuando nada más queremos obtener datos no Entonces por
(1:15:52) ejemplo cuando visitamos una página web en el navegador se realiza una solicitud get al servidor para obtener el contenido de esa página Entonces si nosotros visitamos por ejemplo esta página que no existe eh tenemos Eh Esto de aquí que lo que hace el navegador es enviar una solicitud tipo get para obtener Index html no tenemos también eh las solicitudes post que se utilizan más que nada para enviar datos al servidor y se pueden usar para crear o actualizar recursos ustedes normalmente cuando llenan registros encuestas todo todo eso
(1:16:39) a la hora de hacer eso es lo que hace es usar el método post entonces la información ingresada ya sea nombre correo mensaje lo que hace es enviarse al al servidor ahora el el tipo put bueno se utiliza para actualizar un recurso ya existente en el servidor o para crear un nuevo recurso si es que no existe Entonces por ejemplo ustedes están editando su perfil No sé de Facebook e y la solicitud para guardar los cambios podría utilizar un put para actualizar la información del perfil también está el tipo delete y bueno lo
(1:17:30) que hace tal cual es eliminar un recurso específico Por ejemplo si ustedes tienen una lista de tareas en una aplicación web y deciden eliminar una tarea la solicitud para eliminar esa tarea pues puede incluir este método delete también están las estructuras de la solicitud http y bueno eh una solicitud Http es más que nada un método y una URL incluye cabeceras y en algunos casos un cuerpo entonces la estructura general es esta y bueno el método eh que sería en este caso get indica que pues qué queremos hacer no la la acción a
(1:18:20) realizar y los métodos más comunes pues ya los vimos no get post put delete pero también existen otros como Patch Head options Entonces en este caso sería get Index y lo que hace es indicar que pues solicitamos el recurso Index html no tenemos eh la URL que es la dirección del recurso solicitado en el servidor Entonces si visitamos eh http 2.
(1:18:56) 2 ejemplo eh barra no sé lo que sea productos no por ejemplo eso es este pues la solicitud no O sea solicitamos barra productos también están las cabeceras Que bueno lo que hacen es proporcionar información adicional sobre la solicitud o el cliente pueden incluir como tipo de navegador tipo de contenido o datos de autenticación algo pues muy muy visto es no sé Win 64 Eh x64 La versión de su navegador milla 5.
(1:19:41) 0 por ejemplo Esas son las cabeceras y bueno también está el cuerpo y el cuerpo es opcional se utiliza principalmente en solicitudes post y put para enviar datos al servidor y bueno el cuerpo puede contener datos en formato json xml texto o cualquier otro tipo de contenido que bueno eso lo vamos a ver ahorita no entonces e aquí en este ejemplo pues aquí tenemos No este lo que ya les había dicho el get que indica eh el recurso la solicitud del recurso el Host que es la cabecera específica eh del dominio del servidor al que estamos
(1:20:31) haciendo la solicitud el user agent que es el tipo de cliente navegador en este caso es Milla y acet que indica los tipos de contenido que el cliente puede aceptar como respuesta con preferencia por html y x html ahora Bueno vamos a pasar a los códigos de estado no sé si alguien sepa que es un código de estado le Suena algo no No sé si les llegue a sonar eh error 44 Bueno pues eso es justamente un código de estado en sí el código de estado son mensajes no que envía nuestro servidor
(1:21:37) en respuesta a una solicitud http realizada por un cliente en este caso pues un navegador web no estos códigos de estado lo que hacen es indicar si una solicitud fue exitosa si hubo un error o si es necesario que el cliente realice alguna acción adicional y bueno Están divididos más que nada en cinco categorías principales que se identifican por el primer dígito por ejemplo los códigos 100 en sí son respuestas informativas estos códigos lo que hacen es indicar que la solicitud ha sido recibida Y que el proceso sigue en
(1:22:16) curso normalmente casi no se usa un ejemplo es el por ejemplo el 100 contin continu y lo que hace es que el cliente debe continuar con la solicitud y se usa para verificar que el servidor está dispuesto a aceptar la solicitud completa están los de 200 lo que hacen es indicar que la solicitud fue recibida entendida Y procesada correctamente por el servidor normalmente son las que van a ver siempre por ejemplo el que más aparece siempre siempre es el 200 Okay eso significa que la solicitud fue exitosa y el servidor devolvió la
(1:23:00) respuesta solicitada también por ejemplo está el 201 que es como la solicitud fue exitosa y como resultado se creó un nuevo recurso eh 204 también esa si llega a ver eh No content la solicitud fue exitosa pero el servidor no devuelve ningún contenido están los 300 Ah Es para redirección estos códigos indican que el cliente debe tomar acciones pues adicionales para completar la solicitud como por ejemplo no sé redirigir a otra URL una que aparece por ejemplo 301 solicita que a la URL ha sido movida de manera permanente a otra
(1:23:51) ubicación ahora los códigos 400 Estos son errores de nosotros de los usuarios Y es que lo que hacen es indicar que hubo un error en la solicitud realizada por el cliente no sé algo muy sencillo por ejemplo aquí tenemos google.com barra esto aquí está 404 404 curso solicitado no pudo ser encontrado en el servidor vamos a verlo desde aquí vamos a esta pestaña de Network vamos a volverla a cargar y como Ven aquí están nuestros errores nuestros este nuestros códigos el estatus tenemos que efectivamente no se encontró y también
(1:24:48) tenemos un 301 que es que la solicitud ha sido movida permanentemente a una nueva ubicación entonces entonces aquí es donde ustedes van a ver el estatus Pues de cualquier página no m ahora eh están también los errores de servidor que son los 500 y bueno lo que hacen es indicar que el servidor encontró un problema al intentar procesar la solicitud por ejemplo un código 500 es que el servidor encontró un error interno y no pudo completar la solicitud o el 502 que el servidor que actúa como una puerta de enlace o de Proxy recibió una
(1:25:38) respuesta inválida del servidor y así entonces yo Les recomiendo ver la documentación en esta página es estáa aquí vienen todos los códigos para qué son errores etcétera y se las dejo en la presentación y pues bueno son fundamentales no para la comunicación entre el cliente y el servidor y hacen que el cliente sepa Cómo manejar la respuesta del servidor y nos van a ayudar mucho para saber qué es lo que está pasando ahora bueno eh No sé si tengan alguna duda con esto todo bien Okay bien todo bien Bueno ahora vamos a
(1:26:36) ver las apis Alguien sabe qué es una Api Qué significa una Api han escuchado sobre las apis nunca no bueno Pues en sí una Api Eh sí lo he escuchado pero no lo bueno una Api es una aplicación en inglés es application programming interface bueno es una interfaz de programación de aplicaciones en sí es un conjunto de reglas definiciones que lo que permite es que a una aplicación pueda interactuar con otra veámoslo Como si fuera un puente
(1:27:42) que permite a diferentes programas comunicarse entre sí vamos a ver ahora esto que es Rest una Happy Rest y bueno rápidamente es un estilo arquitectónico para diseñar servicios web que permite la comunicación entre un cliente como navegador y un servidor les menciono esto porque vamos a usar una Api restful que una ap restful es una implementación de una Api que justamente Sigue los principios de esto de una Rest algunos principios clave de de Rest es que por ejemplo hay una separación entre el cliente el cual solicita
(1:28:33) recursos y el servidor que los proporciona y cada solicitud del cliente al servidor debe contener toda la información necesaria en sí el servidor no guarda información sobre solicitudes anteriores Entonces los recursos se identifican mediante las urls como ya ya habíamos visto por ejemplo no sé Google bar users bar1 para un usuario en específico también tiene operaciones Cross con http lo que hace Rest es utilizar los métodos http que ya vimos que son guest post put delete Y pues también tiene una interfaz uniforme me digamos
(1:29:26) porque lo que hace es como facilitar la interacción entre componentes de la Api y bueno vamos a ver qué es ahora una Api pública la vamos a usar eh yo creo que sí sí vamos a usarla en esta clase y la siguiente también y bueno una una Api pública es una Api que está disponible para todo el público en general o sea cualquier desarrollador puede hacer solicitudes a la Api para obtener datos o realizar operaciones siempre y cuando pues sigamos las reglas y limitaciones establecidas por la app existen appis eh públicas Como por
(1:30:06) ejemplo la de Pokémon que a ver si la usamos la próxima clase la de Marvel por ejemplo Ay Bueno sí la de Marvel yo quería usar la de Marvel pero tuve unos problemas con las llaves entonces a ver sí Es que puedo a ver si usamos la de Marvel pero igual la de Pokémon está muy bonita a me gustó bastante A lo mejor usamos mejor la de Pokémon Y bueno pues ofrecen datos todas estas apis es digamos una base de datos nosotros vamos a usar la de Jason placeholder aquí es el link Jon holder este Qué es en sí pues es una ap
(1:31:04) gratuita ya sabemos y lo que nos va a permitir es realizar pruebas y prototipos de aplicaciones usando datos ficticios y Bueno es muy útil para Pues que nosotros hagamos pruebas de durante el desarrollo de aplicaciones Front end en este caso si vamos a hacer una Api es lo que andamos viendo Alex y yo y bueno lo que hace es proporcionar puntos de acceso a esto se le llama end points lo que hacen es devolver datos en formato json y bueno vamos a ver qué qué tiene qué nos ofrece qué nos ofrece esta esta y bueno como ya les había
(1:31:55) mencionado pues datos ficticios lo que nos va a proporcionar son como usuarios así Random publicaciones comentarios fotos etcétera Aquí está por ejemplo post aquí tenemos lo que nos va a proporcionar algo también que cabe mencionar es que es libre O sea no requiere ninguna ninguna configuración especial ni nada Entonces eso es una ventaja y bueno algo que tiene la Jason es que es una app restful real entonces podemos probar operaciones CR que es como leer crear actualizar borrar etc y bueno vamos a hacer un ejemplo con esta
(1:33:01) Api Sí y les voy a enseñar antes de todo el código Porque si si vamos a codificar unas cosas pero les voy a mostrar esta herramienta Es muy bonita para que ustedes vean Cómo sirven las solicitudes y bueno post no sé si alguien la conoce eh alguna vez la han visto no sé probablemente la vean en algún punto en otra materia Pero bueno en sí postman es una herramienta que lo que hace es facilitarnos la creación la prueba y la documentación de apis y nos permite hacer solicitudes http a servidores y ver las respuestas sin necesidad de
(1:33:48) escribir código Entonces vamos a vamos a usarla no Eh bueno la pueden descargar ustedes solamente entrando a la página de postman la descargan hacen su cuenta inician sesión etcétera Ay Bueno aquí ya me esto pero estamos aquí ya nuestra interfaz todo bien postman Le damos a New http vamos a crear una solicitud por ejemplo get bien para hacer esto aquí ya tenemos nuestro tipo de solicitud get y lo que vamos a hacer es ingresar eh una URL de la solicitud o sea en este caso vamos a usar la p de Jason entonces tomamos eh
(1:34:47) Jason y vamos a tomar los post y luego uno por qué pues es para para justamente el ID un Entonces si nosotros lo que hacemos Es mandarla lo que nos va a dar a nosotros pues es eh los datos del post con el id1 Entonces si nosotros Nos vamos aquí a post si se dan cuenta tenemos el id1 o sea toda la información el título el cuerpo es el que nos va a dar aquí Entonces nosotros lo que hacemos Es pedir el post del id1 y ya nos lo va a enviar ahora algo que también tienen que ver aquí es que por
(1:35:51) ejemplo Aquí está el código que les había mencionado ad antes que es el estado http entonces ahí tenemos un 200 Okay no y también el tiempo de respuesta entonces aquí podemos ver también errores todos los estatus No si tengan alguna duda con con esto no Okay bien Ahora vamos a hacer una solicitud post por ejemplo alguien me recuerda que es una solicitud post para enviar datos
(1:37:01) justamente Pues si vamos a enviar unos datos a nuestra Api y bueno para esto vamos a hacer http y bien aquí lo que vamos a hacer es configurarla para que sea un post le ponemos post Y en este caso vamos a hacerle la solicitud a aquí a post bueno post y para esto tenemos que agregar en headers el el tipo de aplicación para que sepa que estamos enviando tipo tipos datos en este caso Jon entonces aquí vamos a poner content y vamos a ponerle application
(1:38:12) Jon J bien es justamente para indicar que estamos enviando datos tipo Jon y ahora [Música] en en Body Nos vamos aquí a la a la parte que dice y aquí Bueno también nos tenemos que verificar que se Jon y Aquí vamos a escribir datos que queremos mandar algo muy simple por ejemplo tiene que ser con comillas le ponemos Hola coma nuestro cuerpo H
(1:39:17) dos y nuestro user ID por ejemplo uno no y listo Nada más con esto lo mandamos qué nos va a responder bueno la respuesta que tenemos es que nos muestra el objeto que acabamos de crear Generalmente con un nuevo ID que es asignado por el servidor bien eh En este caso [Música] eh tenemos no sé por ejemplo un 201 aquí no alguien se acuerda que era un 201 o lo puede buscar o lo vemos hemos tenido éxito sí exacto exao
(1:40:24) lo andan grabando Es que la conexión está mal estoy grabando la clase No te preocupes justamente la solicitud ha tenido éxito y se ha creado un nuevo recurso como resultado de ello entonces tuvimos éxito al crear nuestro post y Y bueno pues podemos revisar losers tipo de etcétera todo bien la verdad es que postman es es importante y aparte es muy útil para nosotros ya que vamos a trabajar con lápis Y pues simplemente lo que hace es realizar solicitudes http para que sean mucho más fáciles y podamos analizar respuestas errores y
(1:41:19) todo eso más que nada es es para eso no sé si tengan alguna duda de pman solicitudes igual en los navegadores pues podemos ver todo esto no acá en la pestaña de Network damos clic aquí pues todo está bien no pero por ejemplo acá aparece es un un 304 Ah que si no mal recuerdo el 304 era que el recurso no se ha sido modificado desde la última vez que el cliente lo solicitó Por lo cual no es necesario que se descargue nuevamente entonces aquí está eh los estatus también están el las solicitudes no sé vamos a darle
(1:42:30) aquí por alguna duda más nada Todo bien 204 Sí todo está bien vamos a pasar al siguiente tema que es F y Ajax bien Ahora las
(1:43:33) aplicaciones necesitan comunicarse con servidores para enviar y recibir datos No eso ya lo sabemos pero lo que queremos es que no recargue la página y esto lo vamos a lograr mediante Ajax y fchi que lo que permiten es que se realicen solicitudes http asíncronas y bueno vamos a ver qué es Ajax en sí es una técnica que lo que nos va a permitir es que las aplicaciones eh puedan comunicarse con el servidor como dije de manera asíncrona y pues puede manejar formatos tipo json html texto y bueno tenemos que ver la base no que es
(1:44:28) hml http request y esto más que nada es un objeto en javascript que permite a los navegadores hacer lo mismo que es interactuar con servidores de manera asíncrona pero es la base sobre la cual se construyó la técnica de Ajax por eso es importante que sepan qué es esto De dónde viene y bueno bueno hace Exactamente lo mismo que es que permite las aplicaciones web realizar solicitudes htp hacia un servidor y recibir respuestas y bien Vamos a ver una Pues un ejemplo lo haré aquí en en Google pero no deja entonces voy a usar
(1:45:19) firefox y bien Qué vamos a hacer vamos vamos a crear una función para que cuando se ejecute realice una solicitud tipo get para obtener pues datos desde una pin vamos a usar la de Jason y bueno vamos a empezar tenemos nuestra función le vamos a poner cargar datos y bueno vamos a crear una nueva instancia del objeto hml http request con un con un bar bar y lo que vamos a a ponerle es new xm
(1:46:24) el http request y bueno en Sí este objeto es nativo de javascript y lo que permite pues esitar eh realizar la solicitudes http desde el navegador y bueno es la base para que Ajax permita actualizar partes de la página sin recargar toda la página ahora vamos a ponerle xhr Open y aquí ahora sí le vamos a poner get y vamos a meter aquí lo que es nuestra url o sea prácticamente estoy haciendo lo
(1:47:30) que postman hace pero en código para que ustedes vean Cómo se hace cómo se programa esto [Música] ahora unready State change y bueno qué qué hace este un Reading est change y bueno lo que estamos haciendo es definir una función justamente de callback que es lo que mencionó Alex que no debemos usar Pero bueno es para propósitos de que ustedes vean y bueno se ejecutará cada vez que cambie el estado de solicitud entonces aquí lo que vamos a ponerle es e nuestra función fun y vamos a hacer un If
(1:48:42) aquí donde en este If lo que se hará es que m vamos a poner un atributo que se llama xr punto ready State y lo vamos a poner que sea estrictamente cuatro esto Qué significa Qué qué es esto bueno en sí eh lo que hace este atributo es representar el estado actual de la solicitud y puede tomar distintos valores Bueno uno en específico no por ejemplo el cero que es un Cent y es que la solicitud no ha sido inicializada uno Open que es que la solicitud ha sido configurada el dos que es headers receive me parece que es cuando
(1:49:45) se han recibido las cabecera de respuesta tres que es loading que lo que hace es que el cuerpo de la respuesta se está descargando y cuatro que es que pusimos es down O sea que la solicitud se ha completado la respuesta se ha recibido completa eso es lo que significa Bien también lo tengo aquí ahora vamos a poner un status que sea 200 o sea pues justamente que en este bloque que es condicional pues vamos a verificar si la solicitud se ha completado Y si fue exitosa no O sea un
(1:50:51) código 200 entonces Entonces si estas ambas solicitudes digo ambas prones son verdaderas se va a ejecutar el siguiente bloque que sería el siguiente bien nuestro siguiente bloque sería un conso L para la respuesta esta ser
(1:51:57) text lo que hace es procesar la respuesta y la solicitud fue completa correctamente e lo que hace es imprimir en la consola pues la respuesta del del servidor no Y esto de aquí contiene el cuerpo de la respuesta como una cadena de texto Ahorita van a ver lo que les menciono y ya por último por último un Cent y esto es pues para enviar la la solicitud no listo ahora vamos a llamar a la función para cargar los datos Descargar datos listo lo tenemos aquí
(1:53:04) está como les mencionaba Aquí está el cuerpo y es exactamente lo mismo que tiene aquí postman si se dan cuenta pero ahora ya saben cómo hacerlo no ya saben qu es lo que hace así se hace no sé si tengan algo una duda con este ejemplo pequeño de todos modos en la próxima clase lo que vamos a hacer es usar otra Api para que sea más visual todo más bonito también vamos a jugar con con esta Api pero en sí no sé que si tengan alguna duda también algo algo muy interesante de fchi sobre Bueno luego les les menciono eso
(1:53:53) de de fech porque no hemos visto el en sí que es fech p Y por qué vamos a usarla en lugar de xml http request Pero bueno no s si todo esté bien alguna duda así sí son bastantes definiciones pero pues les vamos a dar toda la documentación la grabación todo todo bien excelente entonces voy a detener la grabación roguemos que se haya grabado mi voz por favor y bueno en caso de que sí se la subo junto con las grabaciones de Alex no s si tengen alguna otra duda de la tarea otra cosa no
(1:54:57) sé cómo van con la tarea hoy se empieza muy bien Bueno cualquier duda que ustedes tengan nos pueden mandar correo Telegram [Música] no s por classroom un día más sí Se entregan mañana según lo que yo sé mañana la a final del día quieres que la pongamos para el jueves tal vez Okay sí está bien se las recorro un día
(1:56:02) más para que la puedan subir y igual bueno en Sí yo no tengo algún problema si la suben un poco tarde digo no es quisiera que las entregaran tan tarde porquees igual tengo que hacer otras cosas pero igual o sea no hay problema si la suben no sé 3 cu 5 horas tarde con que no sea una semana después está bien o se ustedes no se preocupen y bueno entonces si no hay ninguna otra duda generalizamos la clase porque ya son las 4 ya tengo hambre Okay nos vemos
